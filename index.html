<!doctype html>
<html lang="th" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Access Recirculation Calculator</title>
  <script src="https://cdn.tailwindcss.com/3.4.17"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&amp;family=Kanit:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
  <style>
    * { font-family: 'Sarabun', sans-serif; }
    .font-heading { font-family: 'Kanit', sans-serif; }
    
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes pulse-soft {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.02); }
    }
    
    .animate-fade-in-up { animation: fadeInUp 0.6s ease-out forwards; }
    .animate-pulse-soft { animation: pulse-soft 2s ease-in-out infinite; }
    
    .input-field {
      transition: all 0.3s ease;
      border: 2px solid #e0f2f1;
    }
    
    .input-field:focus {
      border-color: #26a69a;
      box-shadow: 0 0 0 4px rgba(38, 166, 154, 0.15);
      transform: translateY(-2px);
    }
    
    .btn-primary {
      background: linear-gradient(135deg, #26a69a 0%, #00897b 100%);
      transition: all 0.3s ease;
    }
    
    .btn-primary:hover {
      background: linear-gradient(135deg, #00897b 0%, #00796b 100%);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(38, 166, 154, 0.4);
    }
    
    .btn-primary:active {
      transform: translateY(0);
    }
    
    .card-glass {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
    }
    
    .result-card {
      transition: all 0.5s ease;
    }
    
    .modal-backdrop {
      background: rgba(0, 77, 64, 0.6);
      backdrop-filter: blur(4px);
    }
    
    .gradient-border {
      background: linear-gradient(135deg, #e0f7fa, #b2dfdb);
      padding: 3px;
      border-radius: 20px;
    }
    
    .step-number {
      width: 28px;
      height: 28px;
      min-width: 28px;
      background: linear-gradient(135deg, #26a69a 0%, #00897b 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 600;
      font-size: 14px;
    }
    
    #fullscreenImageModal, #videoModal {
      z-index: 9999;
    }
    
    .fullscreen-image-container, .video-container {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 100%;
    }
    
    .fullscreen-image-container img {
      max-width: 95vw;
      max-height: 95vh;
      object-fit: contain;
      border-radius: 8px;
    }
    
    .video-container iframe {
      max-width: 95vw;
      max-height: 95vh;
      border-radius: 8px;
    }
  </style>
  <style>body { box-sizing: border-box; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full overflow-auto bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50"><!-- Background Pattern -->
  <div class="fixed inset-0 opacity-30 pointer-events-none" style="background-image: radial-gradient(circle at 25% 25%, #b2dfdb 2px, transparent 2px), radial-gradient(circle at 75% 75%, #80cbc4 1px, transparent 1px); background-size: 60px 60px;"></div>
  <div class="relative min-h-full w-full flex flex-col"><!-- Header Section -->
   <header class="w-full bg-gradient-to-r from-teal-600 via-teal-500 to-emerald-500 text-white py-4 sm:py-6 px-3 sm:px-4 shadow-xl">
    <div class="max-w-4xl mx-auto animate-fade-in-up"><!-- Title with Icon -->
     <div class="flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-3 mb-2 sm:mb-3">
      <svg class="w-12 h-12 sm:w-14 sm:h-14 drop-shadow-lg flex-shrink-0" viewbox="0 0 64 64" fill="none"><circle cx="32" cy="32" r="28" fill="white" fill-opacity="0.2" /> <path d="M32 12C21.5 12 13 20.5 13 31c0 10.5 8.5 19 19 19s19-8.5 19-19c0-10.5-8.5-19-19-19z" fill="white" fill-opacity="0.3" /> <path d="M32 18c-7.7 0-14 6.3-14 14s6.3 14 14 14 14-6.3 14-14-6.3-14-14-14z" fill="#ef5350" /> <path d="M32 22c-5.5 0-10 4.5-10 10s4.5 10 10 10 10-4.5 10-10-4.5-10-10-10z" fill="#c62828" /> <path d="M29 28h6v8h-6z" fill="white" /> <path d="M26 31h12v2H26z" fill="white" /> <circle cx="20" cy="44" r="4" fill="#e53935" /> <circle cx="44" cy="44" r="4" fill="#e53935" /> <path d="M20 44l12-12" stroke="white" stroke-width="2" stroke-linecap="round" /> <path d="M44 44l-12-12" stroke="white" stroke-width="2" stroke-linecap="round" />
      </svg>
      <div class="text-center sm:text-left">
       <h1 id="main-title" class="font-heading text-xl sm:text-2xl md:text-3xl font-bold drop-shadow-md leading-tight">Access Recirculation Calculator</h1>
      </div>
     </div>
     <p id="subtitle" class="text-teal-100 text-xs sm:text-sm md:text-base font-light text-center">‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡∏ã‡πâ‡∏≥‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏î (Urea-based Method)</p>
    </div>
   </header><!-- Main Content -->
   <main class="flex-1 w-full px-3 sm:px-4 py-4 sm:py-6">
    <div class="max-w-2xl mx-auto space-y-4 sm:space-y-5"><!-- Instructions Button -->
     <div class="animate-fade-in-up" style="animation-delay: 0.1s;"><button id="openModalBtn" class="w-full bg-white hover:bg-teal-50 border-2 border-teal-200 hover:border-teal-400 rounded-2xl p-3 sm:p-4 flex items-center justify-between transition-all duration-300 shadow-md hover:shadow-lg group gap-2 sm:gap-3">
       <div class="flex items-center gap-2 sm:gap-3 min-w-0">
        <div class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-gradient-to-br from-teal-100 to-emerald-100 flex items-center justify-center group-hover:scale-110 transition-transform flex-shrink-0">
         <svg class="w-5 h-5 sm:w-6 sm:h-6 text-teal-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
         </svg>
        </div>
        <div class="text-left min-w-0">
         <p class="font-semibold text-teal-800 text-sm sm:text-base line-clamp-1">‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏î</p>
         <p class="text-xs sm:text-sm text-gray-500 line-clamp-1">‡∏ß‡∏¥‡∏ò‡∏µ Urea-based measurement</p>
        </div>
       </div>
       <svg class="w-4 h-4 sm:w-5 sm:h-5 text-teal-400 group-hover:translate-x-1 transition-transform flex-shrink-0" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
       </svg></button>
     </div><!-- Image Gallery -->
     <div class="animate-fade-in-up" style="animation-delay: 0.15s;">
      <div class="bg-white rounded-2xl p-3 sm:p-4 shadow-md border border-teal-100">
       <p class="text-xs sm:text-sm font-medium text-gray-600 mb-3">üì∏ ‡∏†‡∏≤‡∏û‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏î</p><button id="imageGalleryBtn" class="w-full bg-gradient-to-br from-teal-50 to-emerald-50 rounded-xl overflow-hidden hover:shadow-lg transition-all border border-teal-200 hover:border-teal-400 cursor-pointer group"> <img src="https://lh3.googleusercontent.com/d/1yoZISOQSsws-MuWOTiVX27yNsgVDkTgj" alt="Access Recirculation Setup" loading="lazy" class="w-full h-auto object-cover group-hover:scale-105 transition-transform duration-300" onerror="console.error('Image failed to load:', this.src); this.style.background='#e0f2f1'; this.alt='Image unavailable';"> </button>
       <p class="text-xs text-gray-400 mt-2 text-center">üí° ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏†‡∏≤‡∏û‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≠</p>
      </div>
     </div><!-- Calculator Form -->
     <div class="animate-fade-in-up" style="animation-delay: 0.2s;">
      <div class="gradient-border shadow-xl">
       <div class="card-glass rounded-[17px] p-4 sm:p-5 md:p-6">
        <div class="flex items-center gap-2 sm:gap-3 mb-4 sm:mb-5">
         <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-teal-500 to-emerald-500 flex items-center justify-center flex-shrink-0">
          <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
          </svg>
         </div>
         <h2 class="font-heading text-lg sm:text-xl font-semibold text-teal-800">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤ BUN</h2>
        </div>
        <form id="calculatorForm" class="space-y-3 sm:space-y-4"><!-- Systemic BUN -->
         <div class="group"><label class="flex items-center gap-2 text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2"> <span class="w-6 h-6 sm:w-7 sm:h-7 rounded-full bg-blue-500 text-white flex items-center justify-center text-xs font-bold flex-shrink-0">S</span> <span class="line-clamp-1">‡∏Ñ‡πà‡∏≤ BUN Systemic (S)</span> </label>
          <div class="relative"><input type="number" id="bunS" step="0.01" min="0" required class="input-field w-full px-3 sm:px-4 py-2 sm:py-3 rounded-xl bg-white text-gray-800 placeholder-gray-400 outline-none text-sm sm:text-base" placeholder="‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏•‡∏î Flow"> <span class="absolute right-3 sm:right-4 top-1/2 -translate-y-1/2 text-gray-400 text-xs sm:text-sm">mg/dL</span>
          </div>
         </div><!-- Arterial BUN -->
         <div class="group"><label class="flex items-center gap-2 text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2"> <span class="w-6 h-6 sm:w-7 sm:h-7 rounded-full bg-red-500 text-white flex items-center justify-center text-xs font-bold flex-shrink-0">A</span> <span class="line-clamp-1">‡∏Ñ‡πà‡∏≤ BUN Arterial (A)</span> </label>
          <div class="relative"><input type="number" id="bunA" step="0.01" min="0" required class="input-field w-full px-3 sm:px-4 py-2 sm:py-3 rounded-xl bg-white text-gray-800 placeholder-gray-400 outline-none text-sm sm:text-base" placeholder="‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏Ç‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤ ‡∏Å‡πà‡∏≠‡∏ô‡∏•‡∏î Flow"> <span class="absolute right-3 sm:right-4 top-1/2 -translate-y-1/2 text-gray-400 text-xs sm:text-sm">mg/dL</span>
          </div>
         </div><!-- Venous BUN -->
         <div class="group"><label class="flex items-center gap-2 text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2"> <span class="w-6 h-6 sm:w-7 sm:h-7 rounded-full bg-purple-500 text-white flex items-center justify-center text-xs font-bold flex-shrink-0">V</span> <span class="line-clamp-1">‡∏Ñ‡πà‡∏≤ BUN Venous (V)</span> </label>
          <div class="relative"><input type="number" id="bunV" step="0.01" min="0" required class="input-field w-full px-3 sm:px-4 py-2 sm:py-3 rounded-xl bg-white text-gray-800 placeholder-gray-400 outline-none text-sm sm:text-base" placeholder="‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏Ç‡∏≤‡∏≠‡∏≠‡∏Å ‡∏Å‡πà‡∏≠‡∏ô‡∏•‡∏î Flow"> <span class="absolute right-3 sm:right-4 top-1/2 -translate-y-1/2 text-gray-400 text-xs sm:text-sm">mg/dL</span>
          </div>
         </div><!-- Calculate Button --> <button type="submit" class="btn-primary w-full py-3 sm:py-4 rounded-xl text-white font-semibold text-base sm:text-lg shadow-lg flex items-center justify-center gap-2 mt-4 sm:mt-6">
          <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
          </svg> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå </button>
        </form>
       </div>
      </div>
     </div><!-- Formula Display -->
     <div class="animate-fade-in-up" style="animation-delay: 0.3s;">
      <div class="bg-white/80 rounded-2xl p-3 sm:p-4 border border-teal-100 shadow-md">
       <div class="flex items-center gap-2 mb-2 sm:mb-3">
        <svg class="w-4 h-4 sm:w-5 sm:h-5 text-teal-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.871 4A17.926 17.926 0 003 12c0 2.874.673 5.59 1.871 8m14.13 0a17.926 17.926 0 001.87-8c0-2.874-.673-5.59-1.87-8M9 9h1.246a1 1 0 01.961.725l1.586 5.55a1 1 0 00.961.725H15m-6 4h6" />
        </svg><span class="font-medium text-teal-800 text-sm sm:text-base">‡∏™‡∏π‡∏ï‡∏£‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</span>
       </div>
       <div class="bg-gradient-to-r from-teal-50 to-emerald-50 rounded-xl p-2 sm:p-3 text-center overflow-x-auto">
        <p class="font-heading text-teal-900 text-sm sm:text-base md:text-lg whitespace-nowrap sm:whitespace-normal">Recirculation (%) = <span class="text-teal-600">[(S - A) / (S - V)]</span> √ó 100</p>
       </div>
      </div>
     </div><!-- Result Section -->
     <div id="resultSection" class="hidden animate-fade-in-up" style="animation-delay: 0.4s;">
      <div id="resultCard" class="result-card rounded-2xl p-4 sm:p-5 shadow-xl border-2">
       <div class="text-center">
        <div id="resultIcon" class="w-14 h-14 sm:w-16 sm:h-16 rounded-full mx-auto mb-3 sm:mb-4 flex items-center justify-center"></div>
        <p class="text-xs sm:text-sm text-gray-600 mb-1">‡∏Ñ‡πà‡∏≤ Access Recirculation</p>
        <p id="resultValue" class="font-heading text-3xl sm:text-4xl font-bold mb-2"></p>
        <p id="resultStatus" class="font-semibold text-base sm:text-lg mb-3 sm:mb-4"></p>
        <div id="resultMessage" class="text-xs sm:text-sm leading-relaxed p-3 sm:p-4 rounded-xl"></div>
       </div>
      </div>
     </div><!-- Evidence Info with Video -->
     <div class="animate-fade-in-up" style="animation-delay: 0.5s;">
      <div class="bg-amber-50 border border-amber-200 rounded-2xl p-3 sm:p-4">
       <div class="flex items-start gap-2 sm:gap-3 mb-3 sm:mb-4">
        <div class="w-9 h-9 sm:w-10 sm:h-10 rounded-lg bg-amber-100 flex items-center justify-center flex-shrink-0">
         <svg class="w-4 h-4 sm:w-5 sm:h-5 text-amber-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
         </svg>
        </div>
        <div class="min-w-0">
         <p class="font-semibold text-amber-800 text-sm sm:text-base">üí° ‡πÄ‡∏Å‡∏£‡πá‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå</p>
        </div>
       </div>
       <ul class="text-xs sm:text-sm text-amber-700 space-y-1 sm:space-y-2 mb-4 sm:mb-5 ml-8 sm:ml-12">
        <li><strong>‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á 10%?</strong> ‡∏ï‡∏≤‡∏°‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á KDOQI ‡∏´‡∏≤‡∏Å‡∏Ñ‡πà‡∏≤‡πÄ‡∏Å‡∏¥‡∏ô 10% ‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ ‡∏Ñ‡∏ß‡∏£‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</li>
        <li><strong>‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠ 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ?</strong> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå Dead space ‡πÉ‡∏´‡πâ‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏à‡∏£‡∏¥‡∏á</li>
       </ul><!-- Video Player -->
       <div class="rounded-lg overflow-hidden shadow-md border-2 border-amber-200 bg-black"><button id="openVideoBtn" class="w-full h-auto relative bg-black group">
         <div class="aspect-video w-full bg-black flex items-center justify-center relative overflow-hidden"><img src="https://img.youtube.com/vi/nVP1_b2GuBI/maxresdefault.jpg" alt="YouTube Video Thumbnail" class="w-full h-full object-cover group-hover:opacity-80 transition-opacity" loading="lazy" onerror="this.style.background='#1a1a1a'; this.alt='Video thumbnail unavailable';">
          <div class="absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-black/40 transition-colors">
           <div class="w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-red-600 flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg">
            <svg class="w-8 h-8 sm:w-10 sm:h-10 text-white fill-current ml-1" viewbox="0 0 24 24"><path d="M8 5v14l11-7z" />
            </svg>
           </div>
          </div>
         </div></button>
       </div>
       <p class="text-xs text-amber-600 mt-2 text-center">üé• ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</p>
      </div>
     </div>
    </div>
   </main><!-- Footer -->
   <footer class="w-full bg-gradient-to-r from-teal-700 to-emerald-700 text-white py-3 sm:py-4 px-3 sm:px-4 mt-auto">
    <div class="max-w-2xl mx-auto text-center">
     <div class="flex items-center justify-center gap-1 sm:gap-2 mb-1 flex-wrap">
      <svg class="w-4 h-4 sm:w-5 sm:h-5 text-teal-200 flex-shrink-0" fill="currentColor" viewbox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
      </svg>
      <p id="footer-text" class="text-xs sm:text-sm font-medium">‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏î‡∏¢ ‡∏û‡∏ß. ‡∏ä‡∏∏‡∏ï‡∏¥‡∏°‡∏ì‡∏ë‡∏ô‡πå &amp; ‡∏û‡∏ß.‡∏≠‡πâ‡∏≠‡∏°‡∏≠‡∏≤‡∏£‡∏µ‡∏¢‡πå</p>
     </div>
     <p class="text-xs text-teal-200">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏∏‡∏Ñ‡∏•‡∏≤‡∏Å‡∏£‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå</p>
    </div>
   </footer>
  </div><!-- Fullscreen Image Modal -->
  <div id="fullscreenImageModal" class="fixed inset-0 hidden">
   <div class="modal-backdrop absolute inset-0" id="fullscreenBackdrop"></div>
   <div class="relative w-full h-full flex items-center justify-center p-4"><button id="closeImageBtn" class="absolute top-4 right-4 z-50 w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors">
     <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
     </svg></button>
    <div class="fullscreen-image-container"><img src="https://lh3.googleusercontent.com/d/1yoZISOQSsws-MuWOTiVX27yNsgVDkTgj" alt="Access Recirculation Setup - Fullscreen" loading="lazy" onerror="console.error('Image failed to load:', this.src); this.style.background='rgba(0,77,64,0.3)'; this.alt='Image unavailable';">
    </div>
   </div>
  </div><!-- Video Modal -->
  <div id="videoModal" class="fixed inset-0 hidden">
   <div class="modal-backdrop absolute inset-0" id="videoBackdrop"></div>
   <div class="relative w-full h-full flex items-center justify-center p-3 sm:p-4"><button id="closeVideoBtn" class="absolute top-4 right-4 z-50 w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors">
     <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
     </svg></button>
    <div class="video-container"><iframe width="100%" height="100%" style="max-width: 90vw; max-height: 90vh; border-radius: 8px;" src="https://www.youtube.com/embed/nVP1_b2GuBI?si=XNYeDfm-ywGLJn-x" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    </div>
   </div>
  </div><!-- Instructions Modal -->
  <div id="instructionModal" class="fixed inset-0 z-50 hidden">
   <div class="modal-backdrop absolute inset-0" id="modalBackdrop"></div>
   <div class="relative flex items-center justify-center min-h-full p-3 sm:p-4">
    <div class="bg-white rounded-3xl shadow-2xl w-full max-w-lg max-h-[85%] overflow-hidden animate-fade-in-up"><!-- Modal Header -->
     <div class="bg-gradient-to-r from-teal-600 to-emerald-500 text-white p-4 sm:p-5">
      <div class="flex items-center justify-between gap-2">
       <div class="flex items-center gap-2 sm:gap-3 min-w-0">
        <div class="w-9 h-9 sm:w-10 sm:h-10 rounded-xl bg-white/20 flex items-center justify-center flex-shrink-0">
         <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" />
         </svg>
        </div>
        <div class="min-w-0">
         <h3 class="font-heading font-bold text-base sm:text-lg line-clamp-1">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏î</h3>
         <p class="text-teal-100 text-xs sm:text-sm line-clamp-1">Urea-based Method</p>
        </div>
       </div><button id="closeModalBtn" class="w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors flex-shrink-0">
        <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg></button>
      </div>
     </div><!-- Modal Body -->
     <div class="p-4 sm:p-5 overflow-y-auto max-h-[60vh]">
      <div class="space-y-3 sm:space-y-4">
       <div class="flex gap-2 sm:gap-3">
        <div class="step-number text-sm">
         1
        </div>
        <div class="flex-1 pb-3 sm:pb-4 border-b border-gray-100">
         <p class="text-xs sm:text-sm text-gray-800">‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ü‡∏≠‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß <strong class="text-teal-600">30 ‡∏ô‡∏≤‡∏ó‡∏µ</strong> ‡πÅ‡∏•‡∏∞ <span class="bg-red-100 text-red-700 px-2 py-0.5 rounded text-xs font-medium">‡∏õ‡∏¥‡∏î‡∏£‡∏∞‡∏ö‡∏ö UF</span></p>
        </div>
       </div>
       <div class="flex gap-2 sm:gap-3">
        <div class="step-number text-sm">
         2
        </div>
        <div class="flex-1 pb-3 sm:pb-4 border-b border-gray-100">
         <p class="text-xs sm:text-sm text-gray-800">‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏î <span class="inline-flex items-center gap-1"><span class="w-4 h-4 sm:w-5 sm:h-5 rounded-full bg-red-500 text-white text-xs flex items-center justify-center font-bold">A</span> Arterial</span> ‡πÅ‡∏•‡∏∞ <span class="inline-flex items-center gap-1"><span class="w-4 h-4 sm:w-5 sm:h-5 rounded-full bg-purple-500 text-white text-xs flex items-center justify-center font-bold">V</span> Venous</span> <strong>‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô</strong> ‡∏Ç‡∏ì‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏±‡πä‡∏° (BFR) ‡∏õ‡∏Å‡∏ï‡∏¥</p>
        </div>
       </div>
       <div class="flex gap-2 sm:gap-3">
        <div class="step-number text-sm">
         3
        </div>
        <div class="flex-1 pb-3 sm:pb-4 border-b border-gray-100">
         <p class="text-xs sm:text-sm text-gray-800">‡∏•‡∏î BFR ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ <strong class="text-teal-600">120 mL/min</strong></p>
        </div>
       </div>
       <div class="flex gap-2 sm:gap-3">
        <div class="step-number text-sm">
         4
        </div>
        <div class="flex-1 pb-3 sm:pb-4 border-b border-gray-100">
         <p class="text-xs sm:text-sm text-gray-800">‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤ <strong class="text-teal-600">10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</strong> ‡πÅ‡∏•‡πâ‡∏ß <span class="bg-red-100 text-red-700 px-2 py-0.5 rounded text-xs font-medium">‡∏õ‡∏¥‡∏î Blood Pump</span></p>
        </div>
       </div>
       <div class="flex gap-2 sm:gap-3">
        <div class="step-number text-sm">
         5
        </div>
        <div class="flex-1 pb-3 sm:pb-4 border-b border-gray-100">
         <p class="text-xs sm:text-sm text-gray-800"><strong>‡∏´‡∏ô‡∏µ‡∏ö‡∏™‡∏≤‡∏¢ (Clamp)</strong> ‡∏ó‡πà‡∏≠ Arterial line ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏à‡∏∏‡∏î‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡πÉ‡∏´‡πâ‡∏ä‡∏¥‡∏î Port ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</p>
        </div>
       </div>
       <div class="flex gap-2 sm:gap-3">
        <div class="step-number text-sm">
         6
        </div>
        <div class="flex-1 pb-3 sm:pb-4 border-b border-gray-100">
         <p class="text-xs sm:text-sm text-gray-800">‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏î <span class="inline-flex items-center gap-1"><span class="w-4 h-4 sm:w-5 sm:h-5 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center font-bold">S</span> Systemic</span> ‡∏à‡∏≤‡∏Å Arterial Port <span class="text-gray-500 text-xs sm:text-sm">(‡∏ï‡∏±‡∏ß‡πÅ‡∏ó‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏à‡∏≤‡∏Å‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢)</span></p>
        </div>
       </div>
       <div class="flex gap-2 sm:gap-3">
        <div class="step-number text-sm">
         7
        </div>
        <div class="flex-1 pb-3 sm:pb-4 border-b border-gray-100">
         <p class="text-xs sm:text-sm text-gray-800">‡∏õ‡∏•‡∏î Clamp ‡πÅ‡∏•‡∏∞ <span class="bg-green-100 text-green-700 px-2 py-0.5 rounded text-xs font-medium">‡πÄ‡∏õ‡∏¥‡∏î Blood Pump</span> ‡∏ü‡∏≠‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏ï‡πà‡∏≠‡∏ï‡∏≤‡∏°‡∏õ‡∏Å‡∏ï‡∏¥</p>
        </div>
       </div>
       <div class="flex gap-2 sm:gap-3">
        <div class="step-number text-sm">
         8
        </div>
        <div class="flex-1">
         <p class="text-xs sm:text-sm text-gray-800">‡∏ô‡∏≥‡∏Ñ‡πà‡∏≤ BUN ‡∏Ç‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á 3 ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (<span class="font-bold text-blue-500">S</span>, <span class="font-bold text-red-500">A</span>, <span class="font-bold text-purple-500">V</span>) ‡∏°‡∏≤<strong class="text-teal-600">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</strong></p>
        </div>
       </div>
      </div>
     </div><!-- Modal Footer -->
     <div class="p-3 sm:p-4 bg-gray-50 border-t"><button id="closeModalBtn2" class="w-full py-2 sm:py-3 bg-gradient-to-r from-teal-600 to-emerald-500 text-white font-semibold rounded-xl hover:from-teal-700 hover:to-emerald-600 transition-all text-sm sm:text-base"> ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß </button>
     </div>
    </div>
   </div>
  </div>
  <script>
    // Default configuration
    const defaultConfig = {
      main_title: 'Access Recirculation Calculator',
      subtitle: '‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡∏ã‡πâ‡∏≥‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏î (Urea-based Method)',
      footer_text: '‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏î‡∏¢ ‡∏û‡∏ß. ‡∏ä‡∏∏‡∏ï‡∏¥‡∏°‡∏ô‡∏ë‡πå & ‡∏û‡∏ß.‡∏≠‡πâ‡∏≠‡∏°‡∏≠‡∏≤‡∏£‡∏µ‡∏¢‡πå',
      primary_color: '#0d9488',
      secondary_color: '#10b981',
      background_color: '#f0fdfa',
      text_color: '#134e4a',
      accent_color: '#14b8a6'
    };
    
    // Element references
    const mainTitleEl = document.getElementById('main-title');
    const subtitleEl = document.getElementById('subtitle');
    const footerTextEl = document.getElementById('footer-text');
    
    // Modal elements
    const modal = document.getElementById('instructionModal');
    const openModalBtn = document.getElementById('openModalBtn');
    const closeModalBtn = document.getElementById('closeModalBtn');
    const closeModalBtn2 = document.getElementById('closeModalBtn2');
    const modalBackdrop = document.getElementById('modalBackdrop');
    
    // Image Modal elements
    const fullscreenImageModal = document.getElementById('fullscreenImageModal');
    const imageGalleryBtn = document.getElementById('imageGalleryBtn');
    const closeImageBtn = document.getElementById('closeImageBtn');
    const fullscreenBackdrop = document.getElementById('fullscreenBackdrop');
    
    // Video Modal elements
    const videoModal = document.getElementById('videoModal');
    const openVideoBtn = document.getElementById('openVideoBtn');
    const closeVideoBtn = document.getElementById('closeVideoBtn');
    const videoBackdrop = document.getElementById('videoBackdrop');
    
    // Form elements
    const calculatorForm = document.getElementById('calculatorForm');
    const resultSection = document.getElementById('resultSection');
    const resultCard = document.getElementById('resultCard');
    const resultIcon = document.getElementById('resultIcon');
    const resultValue = document.getElementById('resultValue');
    const resultStatus = document.getElementById('resultStatus');
    const resultMessage = document.getElementById('resultMessage');
    
    // Instruction Modal functions
    function openModal() {
      modal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }
    
    function closeModal() {
      modal.classList.add('hidden');
      document.body.style.overflow = '';
    }
    
    openModalBtn.addEventListener('click', openModal);
    closeModalBtn.addEventListener('click', closeModal);
    closeModalBtn2.addEventListener('click', closeModal);
    modalBackdrop.addEventListener('click', closeModal);
    
    // Image Modal functions
    function openFullscreenImage() {
      fullscreenImageModal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }
    
    function closeFullscreenImage() {
      fullscreenImageModal.classList.add('hidden');
      document.body.style.overflow = '';
    }
    
    imageGalleryBtn.addEventListener('click', openFullscreenImage);
    closeImageBtn.addEventListener('click', closeFullscreenImage);
    fullscreenBackdrop.addEventListener('click', closeFullscreenImage);
    
    // Video Modal functions
    function openVideoModal() {
      videoModal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }
    
    function closeVideoModal() {
      videoModal.classList.add('hidden');
      document.body.style.overflow = '';
    }
    
    openVideoBtn.addEventListener('click', openVideoModal);
    closeVideoBtn.addEventListener('click', closeVideoModal);
    videoBackdrop.addEventListener('click', closeVideoModal);
    
    // Close all modals on Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        if (!modal.classList.contains('hidden')) {
          closeModal();
        }
        if (!fullscreenImageModal.classList.contains('hidden')) {
          closeFullscreenImage();
        }
        if (!videoModal.classList.contains('hidden')) {
          closeVideoModal();
        }
      }
    });
    
    // Calculator logic
    calculatorForm.addEventListener('submit', (e) => {
      e.preventDefault();
      
      const bunS = parseFloat(document.getElementById('bunS').value);
      const bunA = parseFloat(document.getElementById('bunA').value);
      const bunV = parseFloat(document.getElementById('bunV').value);
      
      // Validate inputs
      if (isNaN(bunS) || isNaN(bunA) || isNaN(bunV)) {
        showInlineError('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤ BUN ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á');
        return;
      }
      
      // Check for division by zero
      if (bunS === bunV) {
        showInlineError('‡∏Ñ‡πà‡∏≤ S ‡πÅ‡∏•‡∏∞ V ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÑ‡∏î‡πâ (‡∏´‡∏≤‡∏£‡∏î‡πâ‡∏ß‡∏¢‡∏®‡∏π‡∏ô‡∏¢‡πå)');
        return;
      }
      
      // Calculate recirculation
      const recirculation = ((bunS - bunA) / (bunS - bunV)) * 100;
      
      // Display result
      displayResult(recirculation);
    });
    
    function showInlineError(message) {
      resultSection.classList.remove('hidden');
      resultCard.className = 'result-card rounded-2xl p-4 sm:p-5 shadow-xl border-2 bg-amber-50 border-amber-300';
      resultIcon.innerHTML = `
        <svg class="w-7 h-7 sm:w-8 sm:h-8 text-amber-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
        </svg>
      `;
      resultIcon.className = 'w-12 h-12 sm:w-14 sm:h-14 rounded-full mx-auto mb-2 sm:mb-3 flex items-center justify-center bg-amber-100';
      resultValue.textContent = '‚ö†Ô∏è';
      resultValue.className = 'font-heading text-3xl sm:text-4xl font-bold mb-2 text-amber-600';
      resultStatus.textContent = '‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î';
      resultStatus.className = 'font-semibold text-base sm:text-lg mb-3 sm:mb-4 text-amber-700';
      resultMessage.textContent = message;
      resultMessage.className = 'text-xs sm:text-sm leading-relaxed p-3 sm:p-4 rounded-xl bg-amber-100 text-amber-800';
      
      resultSection.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
    
    function displayResult(recirculation) {
      resultSection.classList.remove('hidden');
      
      const isNormal = recirculation >= 0 && recirculation <= 10;
      
      if (isNormal) {
        resultCard.className = 'result-card rounded-2xl p-4 sm:p-5 shadow-xl border-2 bg-gradient-to-br from-green-50 to-emerald-50 border-green-300';
        resultIcon.innerHTML = `
          <svg class="w-7 h-7 sm:w-8 sm:h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
        `;
        resultIcon.className = 'w-12 h-12 sm:w-14 sm:h-14 rounded-full mx-auto mb-2 sm:mb-3 flex items-center justify-center bg-green-100';
        resultValue.textContent = recirculation.toFixed(2) + '%';
        resultValue.className = 'font-heading text-3xl sm:text-4xl font-bold mb-2 text-green-600';
        resultStatus.textContent = '‚úÖ ‡∏õ‡∏Å‡∏ï‡∏¥ (Normal)';
        resultStatus.className = 'font-semibold text-base sm:text-lg mb-3 sm:mb-4 text-green-700';
        resultMessage.innerHTML = '<strong>‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏Å‡∏≤‡∏£‡∏ü‡∏≠‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏î‡∏µ</strong><br>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡∏ã‡πâ‡∏≥‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ô‡∏±‡∏¢‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç';
        resultMessage.className = 'text-xs sm:text-sm leading-relaxed p-3 sm:p-4 rounded-xl bg-green-100 text-green-800';
      } else {
        resultCard.className = 'result-card rounded-2xl p-4 sm:p-5 shadow-xl border-2 bg-gradient-to-br from-red-50 to-rose-50 border-red-300 animate-pulse-soft';
        resultIcon.innerHTML = `
          <svg class="w-7 h-7 sm:w-8 sm:h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
        `;
        resultIcon.className = 'w-12 h-12 sm:w-14 sm:h-14 rounded-full mx-auto mb-2 sm:mb-3 flex items-center justify-center bg-red-100';
        resultValue.textContent = recirculation.toFixed(2) + '%';
        resultValue.className = 'font-heading text-3xl sm:text-4xl font-bold mb-2 text-red-600';
        resultStatus.textContent = '‚ö†Ô∏è ‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ (Abnormal Recirculation)';
        resultStatus.className = 'font-semibold text-base sm:text-lg mb-3 sm:mb-4 text-red-700';
        resultMessage.innerHTML = `
          <strong>‡∏û‡∏ö‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡∏ã‡πâ‡∏≥‡∏™‡∏π‡∏á‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥</strong><br><br>
          <span class="text-red-700 text-xs sm:text-sm block mb-2">‡∏Ñ‡∏ß‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:</span>
          <ul class="list-disc list-inside text-left text-xs sm:text-sm space-y-1">
            <li>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏Ç‡πá‡∏° (‡πÄ‡∏Ç‡πá‡∏° A ‡πÅ‡∏•‡∏∞ V ‡πÉ‡∏Å‡∏•‡πâ‡∏Å‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà)</li>
            <li>‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏ó‡∏á‡πÄ‡∏Ç‡πá‡∏°</li>
            <li>‡πÄ‡∏ù‡πâ‡∏≤‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏†‡∏≤‡∏ß‡∏∞‡∏´‡∏•‡∏≠‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏ï‡∏µ‡∏ö (Stenosis)</li>
            <li>‡πÅ‡∏à‡πâ‡∏á‡πÅ‡∏û‡∏ó‡∏¢‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ô‡∏¥‡∏à‡∏â‡∏±‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</li>
          </ul>
        `;
        resultMessage.className = 'text-xs sm:text-sm leading-relaxed p-3 sm:p-4 rounded-xl bg-red-100 text-red-800 text-left';
      }
      
      resultSection.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
    
    // Element SDK Integration
    async function onConfigChange(config) {
      const title = config.main_title || defaultConfig.main_title;
      const subtitle = config.subtitle || defaultConfig.subtitle;
      const footer = config.footer_text || defaultConfig.footer_text;
      
      mainTitleEl.textContent = title;
      subtitleEl.textContent = subtitle;
      footerTextEl.textContent = footer;
    }
    
    function mapToCapabilities(config) {
      return {
        recolorables: [
          {
            get: () => config.background_color || defaultConfig.background_color,
            set: (value) => {
              config.background_color = value;
              window.elementSdk.setConfig({ background_color: value });
            }
          },
          {
            get: () => config.primary_color || defaultConfig.primary_color,
            set: (value) => {
              config.primary_color = value;
              window.elementSdk.setConfig({ primary_color: value });
            }
          },
          {
            get: () => config.text_color || defaultConfig.text_color,
            set: (value) => {
              config.text_color = value;
              window.elementSdk.setConfig({ text_color: value });
            }
          }
        ],
        borderables: [],
        fontEditable: undefined,
        fontSizeable: undefined
      };
    }
    
    function mapToEditPanelValues(config) {
      return new Map([
        ['main_title', config.main_title || defaultConfig.main_title],
        ['subtitle', config.subtitle || defaultConfig.subtitle],
        ['footer_text', config.footer_text || defaultConfig.footer_text]
      ]);
    }
    
    // Initialize Element SDK
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9cca60ddc108d028',t:'MTc3MDg4MTQwMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
